---
import avatarImage from "../assets/Jonathan_Acevedo.webp";
import flagEsImage from "../assets/Flag_Colombia.webp";
import flagEnImage from "../assets/Flag_United_States.webp";

const links = [
  { href: "#inicio", label: "Inicio" },
  { href: "#sobre-mi", label: "Sobre mi" },
  { href: "#proyectos", label: "Proyectos" },
  { href: "#blog", label: "Blog" },
  { href: "#contacto", label: "Contactame" },
];

const avatarSrc = typeof avatarImage === "string" ? avatarImage : avatarImage.src;
const flagEsSrc = typeof flagEsImage === "string" ? flagEsImage : flagEsImage.src;
const flagEnSrc = typeof flagEnImage === "string" ? flagEnImage : flagEnImage.src;
---

<header
  id="site-header"
  class="fixed top-4 inset-x-4 z-50 grid grid-cols-[auto_1fr_auto] items-center gap-4 rounded-2xl border border-transparent bg-transparent transition-all duration-300"
>
  <div class="flex items-center gap-3">
    <img
      src={avatarSrc}
      alt="Foto de perfil de Jonathan Acevedo"
      class="size-14 rounded-full object-cover ring-2 ring-slate-200 transition-transform duration-300 ease-out hover:scale-110 hover:ring-blue-500 dark:ring-slate-700"
    />
    <div class="leading-tight">
      <p class="text-sm font-bold text-slate-900 dark:text-slate-100 sm:text-base">
        Jonathan Acevedo
      </p>
      <p class="text-xs font-medium text-slate-600 dark:text-slate-400 sm:text-sm">
        Ingeniero de Sistemas y Computacion
      </p>
    </div>
  </div>

  <nav aria-label="Navegacion principal" class="hidden justify-self-center md:block">
    <ul class="flex items-center gap-6">
      {links.map((item) => (
        <li>
          <a
            href={item.href}
            class="relative font-medium text-slate-700 transition-colors duration-300 after:absolute after:left-0 after:-bottom-1 after:h-[2px] after:w-full after:origin-left after:scale-x-0 after:bg-blue-500 after:transition-transform after:duration-500 hover:text-blue-600 hover:after:scale-x-100 dark:text-slate-200 dark:hover:text-blue-400 dark:after:bg-blue-400"
          >
            {item.label}
          </a>
        </li>
      ))}
    </ul>
  </nav>

  <div class="flex items-center justify-end gap-3 md:gap-4">
  <button
    id="lang-toggle"
    type="button"
    aria-label="Cambiar idioma"
    class="inline-flex items-center gap-1 sm:gap-2 
           rounded-full px-2 py-[2px] sm:px-3 sm:py-1 
           text-xs font-medium text-slate-800 
           transition-transform duration-200 
           hover:scale-105 hover:text-blue-600 
           focus:outline-none 
           dark:text-blue-400 dark:hover:text-blue-400"
    data-lang="es"
    data-flag-es={flagEsSrc}
    data-flag-en={flagEnSrc}
    data-label-es="ES"
    data-label-en="EN"
    data-alt-es="Idioma actual: Español"
    data-alt-en="Current language: English"
    aria-live="polite"
  >
    <img
      id="lang-flag"
      src={flagEsSrc}
      alt="Idioma actual: Español"
      class="h-6 w-10 sm:h-5 sm:w-8 md:h-6 md:w-9 rounded-full object-cover shadow-sm transition-all duration-300"
    />
    <span class="hidden sm:inline" data-lang-label>ES</span>
  </button>
</div>


</header>

<script type="module" src="/scripts/header.js"></script>
